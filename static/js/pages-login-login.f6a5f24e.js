(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"50c2":function(t,s,n){"use strict";n.r(s);var e=n("db1e"),a=n.n(e);for(var i in e)["default"].indexOf(i)<0&&function(t){n.d(s,t,(function(){return e[t]}))}(i);s["default"]=a.a},"59b4":function(t,s,n){var e=n("f432");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("967d").default;a("01ca169d",e,!0,{sourceMap:!1,shadowMode:!1})},7938:function(t,s,n){"use strict";var e=n("59b4"),a=n.n(e);a.a},8586:function(t,s,n){"use strict";n.d(s,"b",(function(){return e})),n.d(s,"c",(function(){return a})),n.d(s,"a",(function(){}));var e=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("v-uni-view",{staticClass:"zai-box"},[n("v-uni-scroll-view",{staticClass:"page",attrs:{"scroll-y":!0}},[n("v-uni-view",{staticClass:"text-center",style:[{animation:"show 0.4s 1"}]},[n("v-uni-image",{staticClass:"zai-logo ",attrs:{src:"/static/logo.png",mode:"aspectFit"}})],1),n("v-uni-view",{staticClass:"box padding-lr-xl login-paddingtop",style:[{animation:"show 0.6s 1"}]},[1==t.loginWay?[n("v-uni-view",{staticClass:"cu-form-group  shadow-warp",class:["round"==t.shape?"round":""]},[n("v-uni-view",{staticClass:"title"},[n("v-uni-text",{staticClass:"cuIcon-people margin-right-xs"}),t._v("账号:")],1),n("v-uni-input",{attrs:{placeholder:"请输入账号",name:"input"},model:{value:t.userName,callback:function(s){t.userName=s},expression:"userName"}})],1),n("v-uni-view",{staticClass:"cu-form-group margin-top shadow-warp",class:["round"==t.shape?"round":""]},[n("v-uni-view",{staticClass:"title"},[n("v-uni-text",{staticClass:"cuIcon-lock margin-right-xs"}),t._v("密码:")],1),n("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"请输入密码",password:!t.showPassword},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),n("v-uni-view",{staticClass:"action text-lg"},[n("v-uni-text",{class:[t.showPassword?"cuIcon-attention":"cuIcon-attentionforbid"],on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.changePassword.apply(void 0,arguments)}}})],1)],1),n("v-uni-checkbox-group",{staticClass:"block",on:{change:function(s){arguments[0]=s=t.$handleEvent(s),t.saveps.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"cu-form-group margin-top"},[n("v-uni-view",{staticClass:"title"},[t._v("记住账号和密码")]),n("v-uni-checkbox",{class:"Y"==t.rememberPsw?"checked":"",attrs:{checked:"Y"==t.rememberPsw,value:"Y"}})],1)],1),n("v-uni-view",{staticClass:"padding text-center margin-top"},[n("v-uni-button",{staticClass:"cu-btn bg-blue lg margin-right shadow",class:["round"==t.shape?"round":""],attrs:{loading:t.loading},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.onLogin.apply(void 0,arguments)}}},[n("v-uni-text",{attrs:{space:"emsp"}},[t._v(t._s(t.loading?"登录中...":" 登录 "))])],1),n("v-uni-button",{staticClass:"cu-btn line-blue lg margin-left shadow",class:["round"==t.shape?"round":""],attrs:{loading:t.loading},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.loginWay=3-t.loginWay}}},[t._v("短信登录")])],1)]:[n("v-uni-view",{staticClass:"cu-form-group margin-top  shadow-warp",class:["round"==t.shape?"round":""]},[n("v-uni-view",{staticClass:"title"},[n("v-uni-text",{staticClass:"cuIcon-mobile margin-right-xs"}),t._v("手机号:")],1),n("v-uni-input",{attrs:{placeholder:"请输入手机号",type:"number",maxlength:"11"},model:{value:t.phoneNo,callback:function(s){t.phoneNo=s},expression:"phoneNo"}})],1),n("v-uni-view",{staticClass:"cu-form-group margin-top shadow-warp",class:["round"==t.shape?"round":""]},[n("v-uni-view",{staticClass:"title"},[n("v-uni-text",{staticClass:"cuIcon-lock margin-right-xs"}),t._v("验证码:")],1),n("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"请输入验证码"},model:{value:t.smsCode,callback:function(s){t.smsCode=s},expression:"smsCode"}}),n("v-uni-view",{staticClass:"action"},[n("v-uni-button",{staticClass:"cu-btn line-blue sm",attrs:{disabled:!t.isSendSMSEnable},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.onSMSSend.apply(void 0,arguments)}}},[t._v(t._s(t.getSendBtnText))])],1)],1),n("v-uni-view",{staticClass:"padding text-center margin-top"},[n("v-uni-button",{staticClass:"cu-btn bg-blue lg margin-right shadow",class:["round"==t.shape?"round":""],attrs:{loading:t.loading},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.onSMSLogin.apply(void 0,arguments)}}},[n("v-uni-text",{attrs:{space:"emsp"}},[t._v(t._s(t.loading?"登录中...":" 登录 "))])],1),n("v-uni-button",{staticClass:"cu-btn line-blue lg margin-left shadow",class:["round"==t.shape?"round":""],attrs:{loading:t.loading},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.loginWay=1}}},[t._v("账户登录")])],1)]],2)],1),t.loading?n("v-uni-view",{staticClass:"cu-load load-modal"},[n("v-uni-image",{staticClass:"round",attrs:{src:"/static/logo.png",mode:"aspectFit"}}),n("v-uni-view",{staticClass:"gray-text"},[t._v("登录中...")])],1):t._e()],1)},a=[]},c000:function(t,s,n){"use strict";n.r(s);var e=n("8586"),a=n("50c2");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(s,t,(function(){return a[t]}))}(i);n("7938");var o=n("828b"),r=Object(o["a"])(a["default"],e["b"],e["c"],!1,null,"33510fb0",null,!1,e["a"],void 0);s["default"]=r.exports},db1e:function(t,s,n){"use strict";n("6a54");var e=n("f5bd").default;Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,n("bf0f"),n("5c47"),n("a1c1"),n("45da"),n("aa9c"),n("23f4"),n("7d2f"),n("9c4e"),n("ab80"),n("0506");var a=e(n("9b1b")),i=(n("2d6f"),n("8f59")),o=(e(n("de06")),{data:function(){return{shape:"",rememberPsw:"N",loading:!1,userName:"",password:"",phoneNo:"",smsCode:"",showPassword:!1,loginWay:1,smsCountDown:0,smsCountInterval:null,toggleDelay:!1,version:"",thirdType:"",thirdLoginInfo:"",thirdLoginState:!1,bindingPhoneModal:!1,thirdUserUuid:"",url:{bindingThirdPhone:"/sys/thirdLogin/bindingThirdPhone"}}},onLoad:function(){},created:function(){var t=uni.getStorageSync("userName"),s=uni.getStorageSync("password"),n=uni.getStorageSync("rememberPsw");n&&(this.rememberPsw=n),t&&s&&(this.userName=t,this.password=s)},computed:{isSendSMSEnable:function(){return this.smsCountDown<=0&&this.phoneNo.length>4},getSendBtnText:function(){return this.smsCountDown>0?this.smsCountDown+"秒后发送":"发送验证码"},canSMSLogin:function(){return this.userName.length>4&&this.smsCode.length>4},canPwdLogin:function(){return this.userName.length>4&&this.password.length>4}},methods:(0,a.default)((0,a.default)({},(0,i.mapActions)(["mLogin","PhoneLogin","ThirdLogin"])),{},{onLogin:function(){var t=this;if(this.userName&&0!=this.userName.length)if(this.password&&0!=this.password.length){"Y"==this.rememberPsw?(uni.setStorageSync("userName",this.userName),uni.setStorageSync("password",this.password),uni.setStorageSync("rememberPsw",this.rememberPsw)):(uni.removeStorageSync("userName"),uni.removeStorageSync("password"),uni.removeStorageSync("rememberPsw"));var s={username:this.userName,password:this.password};this.loading=!0,this.mLogin(s).then((function(s){t.loading=!1,s.data.success?(t.$tip.success("登录成功!"),t.$Router.replaceAll({name:"index"})):t.$tip.alert(s.data.message)})).catch((function(s){var n=s.data.message||"请求出现错误，请稍后再试";t.loading=!1,t.$tip.alert(n)})).finally((function(){t.loading=!1}))}else this.$tip.toast("请填写密码");else this.$tip.toast("请填写用户名")},saveps:function(t){"Y"==this.rememberPsw?this.rememberPsw="N":this.rememberPsw="Y"},saveClientId:function(){var t=this,s=plus.push.getClientInfo(),n=s.clientid;this.$http.get("/sys/user/saveClientId",{params:{clientId:n}}).then((function(s){console.log("res::saveClientId>",s),t.$tip.success("登录成功!"),t.$Router.replaceAll({name:"index"})}))},changePassword:function(){this.showPassword=!this.showPassword},onSMSSend:function(){var t=this,s={};s.mobile=this.phoneNo,s.smsmode="0";var n=new RegExp(/^[1]([3-9])[0-9]{9}$/);return s.mobile&&0!=s.mobile.length?n.test(s.mobile)?void this.$http.post("/sys/sms",s).then((function(s){s.data.success?(t.smsCountDown=60,t.startSMSTimer()):(t.smsCountDown=0,t.$tip.toast(s.data.message))})):(this.$tip.toast("请输入正确的手机号"),!1):(this.$tip.toast("请输入手机号"),!1)},startSMSTimer:function(){var t=this;this.smsCountInterval=setInterval((function(){t.smsCountDown--,t.smsCountDown<=0&&clearInterval(t.smsCountInterval)}),1e3)},onSMSLogin:function(){var t=this,s=new RegExp(/^[1]([3-9])[0-9]{9}$/);if(this.phoneNo&&0!=this.phoneNo.length){if(!s.test(this.phoneNo))return this.$tip.toast("请输入正确的手机号"),!1;if(this.smsCode&&0!=this.smsCode.length){var n={mobile:this.phoneNo,captcha:this.smsCode};this.PhoneLogin(n).then((function(s){console.log("res====》",s),s.data.success?(t.$tip.success("登录成功!"),t.$Router.replaceAll({name:"index"})):t.$tip.error(s.data.message)})).catch((function(s){var n=((s.response||{}).data||{}).message||s.data.message||"请求出现错误，请稍后再试";t.$tip.error(n)}))}else this.$tip.toast("请填短信验证码")}else this.$tip.toast("请填写手机号")},loginSuccess:function(){this.$Router.replace({name:"index"})},requestFailed:function(t){this.$message.warning("登录失败")}}),beforeDestroy:function(){this.smsCountInterval&&clearInterval(this.smsCountInterval)}});s.default=o},f432:function(t,s,n){var e=n("c86c");s=e(!1),s.push([t.i,".login-paddingtop[data-v-33510fb0]{padding-top:%?100?%}.zai-box[data-v-33510fb0]{padding:0 %?20?%;padding-top:%?100?%;position:relative}.zai-logo[data-v-33510fb0]{width:%?500?%;height:300px}.zai-title[data-v-33510fb0]{font-size:%?58?%;color:#000;text-align:center}.input-placeholder[data-v-33510fb0],\n\t.zai-input[data-v-33510fb0]{color:#94afce}.zai-label[data-v-33510fb0]{padding:%?60?% 0;text-align:center;font-size:%?30?%;color:#a7b6d0}.zai-btn[data-v-33510fb0]{background:#ff65a3;color:#fff;border:0;border-radius:%?100?%;font-size:%?36?%}.zai-btn[data-v-33510fb0]:after{border:0}\n\n\t/*按钮点击效果*/.zai-btn.button-hover[data-v-33510fb0]{-webkit-transform:translate(%?1?%,%?1?%);transform:translate(%?1?%,%?1?%)}",""]),t.exports=s}}]);