(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-iresp-RscTimesheettableForm"],{"04e8":function(t,e,i){var s,n,r,a=i("bdbb").default;i("4085"),function(o,c){"object"==a(e)&&"undefined"!=typeof t?t.exports=c(i("2c58")):(n=[i("2c58")],s=c,r="function"===typeof s?s.apply(e,n):s,void 0===r||(t.exports=r))}(0,(function(t){"use strict";var e=function(t){return t&&"object"==a(t)&&"default"in t?t:{default:t}}(t),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(t,e){return"W"===e?t+"周":t+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(t,e){var i=100*t+e;return i<600?"凌晨":i<900?"早上":i<1100?"上午":i<1300?"中午":i<1800?"下午":"晚上"}};return e.default.locale(i,null,!0),i}))},"2bdf":function(t,e,i){"use strict";var s=i("b1e3"),n=i.n(s);n.a},"2c58":function(t,e,i){var s,n,r=i("bdbb").default;i("4085"),i("5c47"),i("a1c1"),i("0506"),i("2c10"),i("c9b5"),i("bf0f"),i("ab80"),i("f7a5"),i("64aa"),i("9370"),i("6730"),function(a,o){"object"==r(e)&&"undefined"!=typeof t?t.exports=o():(s=o,n="function"===typeof s?s.call(e,i,e,t):s,void 0===n||(t.exports=n))}(0,(function(){"use strict";var t=6e4,e=36e5,i="millisecond",s="second",n="minute",a="hour",o="day",c="week",u="month",l="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],i=t%100;return"["+t+(e[(i-20)%10]||e[i]||e[0])+"]"}},w=function(t,e,i){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(i)+t},b={s:w,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),s=Math.floor(i/60),n=i%60;return(e<=0?"+":"-")+w(s,2,"0")+":"+w(n,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var s=12*(i.year()-e.year())+(i.month()-e.month()),n=e.clone().add(s,u),r=i-n<0,a=e.clone().add(s+(r?-1:1),u);return+(-(s+(i-n)/(r?n-a:a-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:d,w:c,d:o,D:h,h:a,m:n,s:s,ms:i,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",y={};y[g]=m;var x="$isDayjsObject",_=function(t){return t instanceof $||!(!t||!t[x])},k=function t(e,i,s){var n;if(!e)return g;if("string"==typeof e){var r=e.toLowerCase();y[r]&&(n=r),i&&(y[r]=i,n=r);var a=e.split("-");if(!n&&a.length>1)return t(a[0])}else{var o=e.name;y[o]=e,n=o}return!s&&n&&(g=n),n||!s&&g},L=function(t,e){if(_(t))return t.clone();var i="object"==r(e)?e:{};return i.date=t,i.args=arguments,new $(i)},T=b;T.l=k,T.i=_,T.w=function(t,e){return L(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var $=function(){function r(t){this.$L=k(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[x]=!0}var m=r.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(p);if(s){var n=s[2]-1||0,r=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return T},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var i=L(t);return this.startOf(e)<=i&&i<=this.endOf(e)},m.isAfter=function(t,e){return L(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<L(t)},m.$g=function(t,e,i){return T.u(t)?this[e]:this.set(i,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var i=this,r=!!T.u(e)||e,l=T.p(t),f=function(t,e){var s=T.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return r?s:s.endOf(o)},p=function(t,e){return T.w(i.toDate()[t].apply(i.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},v=this.$W,m=this.$M,w=this.$D,b="set"+(this.$u?"UTC":"");switch(l){case d:return r?f(1,0):f(31,11);case u:return r?f(1,m):f(0,m+1);case c:var g=this.$locale().weekStart||0,y=(v<g?v+7:v)-g;return f(r?w-y:w+(6-y),m);case o:case h:return p(b+"Hours",0);case a:return p(b+"Minutes",1);case n:return p(b+"Seconds",2);case s:return p(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,c=T.p(t),l="set"+(this.$u?"UTC":""),f=(r={},r[o]=l+"Date",r[h]=l+"Date",r[u]=l+"Month",r[d]=l+"FullYear",r[a]=l+"Hours",r[n]=l+"Minutes",r[s]=l+"Seconds",r[i]=l+"Milliseconds",r)[c],p=c===o?this.$D+(e-this.$W):e;if(c===u||c===d){var v=this.clone().set(h,1);v.$d[f](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[T.p(t)]()},m.add=function(i,r){var l,h=this;i=Number(i);var f=T.p(r),p=function(t){var e=L(h);return T.w(e.date(e.date()+Math.round(t*i)),h)};if(f===u)return this.set(u,this.$M+i);if(f===d)return this.set(d,this.$y+i);if(f===o)return p(1);if(f===c)return p(7);var v=(l={},l[n]=t,l[a]=e,l[s]=1e3,l)[f]||1,m=this.$d.getTime()+i*v;return T.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||f;var s=t||"YYYY-MM-DDTHH:mm:ssZ",n=T.z(this),r=this.$H,a=this.$m,o=this.$M,c=i.weekdays,u=i.months,l=i.meridiem,d=function(t,i,n,r){return t&&(t[i]||t(e,s))||n[i].slice(0,r)},h=function(t){return T.s(r%12||12,t,"0")},p=l||function(t,e,i){var s=t<12?"AM":"PM";return i?s.toLowerCase():s};return s.replace(v,(function(t,s){return s||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return T.s(e.$y,4,"0");case"M":return o+1;case"MM":return T.s(o+1,2,"0");case"MMM":return d(i.monthsShort,o,u,3);case"MMMM":return d(u,o);case"D":return e.$D;case"DD":return T.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(i.weekdaysMin,e.$W,c,2);case"ddd":return d(i.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(r);case"HH":return T.s(r,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(r,a,!0);case"A":return p(r,a,!1);case"m":return String(a);case"mm":return T.s(a,2,"0");case"s":return String(e.$s);case"ss":return T.s(e.$s,2,"0");case"SSS":return T.s(e.$ms,3,"0");case"Z":return n}return null}(t)||n.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(i,r,h){var f,p=this,v=T.p(r),m=L(i),w=(m.utcOffset()-this.utcOffset())*t,b=this-m,g=function(){return T.m(p,m)};switch(v){case d:f=g()/12;break;case u:f=g();break;case l:f=g()/3;break;case c:f=(b-w)/6048e5;break;case o:f=(b-w)/864e5;break;case a:f=b/e;break;case n:f=b/t;break;case s:f=b/1e3;break;default:f=b}return h?f:T.a(f)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return y[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),s=k(t,e,!0);return s&&(i.$L=s),i},m.clone=function(){return T.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},r}(),C=$.prototype;return L.prototype=C,[["$ms",i],["$s",s],["$m",n],["$H",a],["$W",o],["$M",u],["$y",d],["$D",h]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),L.extend=function(t,e){return t.$i||(t(e,$,L),t.$i=!0),L},L.locale=k,L.isDayjs=_,L.unix=function(t){return L(1e3*t)},L.en=y[g],L.Ls=y,L.p={},L}))},"3f55":function(t,e,i){var s=i("c86c");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-section[data-v-7b12ec29]{background-color:#fff;margin-top:10px}.uni-section-header[data-v-7b12ec29]{position:relative;display:flex;flex-direction:row;align-items:center;padding:12px 10px;font-weight:400}.uni-section__head[data-v-7b12ec29]{flex-direction:row;justify-content:center;align-items:center;margin-right:10px}.line[data-v-7b12ec29]{height:12px;background-color:#2979ff;border-radius:10px;width:4px}.circle[data-v-7b12ec29]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px;background-color:#2979ff}.uni-section__content[data-v-7b12ec29]{display:flex;flex-direction:column;flex:1;color:#333}.uni-section__content-title[data-v-7b12ec29]{font-size:14px;color:#2979ff}.distraction[data-v-7b12ec29]{flex-direction:row;align-items:center}.uni-section__content-sub[data-v-7b12ec29]{font-size:12px;color:#999;line-height:16px;margin-top:2px}',""]),t.exports=e},4085:function(t,e,i){"use strict";var s=i("8bdb"),n=i("85c1");s({global:!0,forced:n.globalThis!==n},{globalThis:n})},"50c5":function(t,e,i){"use strict";var s=i("7714"),n=i.n(s);n.a},"58c3":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visibleSync?i("v-uni-view",{staticClass:"uni-drawer",class:{"uni-drawer--visible":t.showDrawer},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-drawer__mask",class:{"uni-drawer__mask--visible":t.showDrawer&&t.mask},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close("mask")}}}),i("v-uni-view",{staticClass:"uni-drawer__content",class:{"uni-drawer--right":t.rightMode,"uni-drawer--left":!t.rightMode,"uni-drawer__content--visible":t.showDrawer},style:{width:t.drawerWidth+"px"}},[t._t("default")],2),i("keypress",{on:{esc:function(e){arguments[0]=e=t.$handleEvent(e),t.close("mask")}}})],1):t._e()},n=[]},"61cd":function(t,e,i){"use strict";i.r(e);var s=i("58c3"),n=i("ffe6");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("50c5");var a=i("828b"),o=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"540ef5be",null,!1,s["a"],void 0);e["default"]=o.exports},6730:function(t,e,i){"use strict";var s=i("8bdb"),n=i("71e9");s({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return n(URL.prototype.toString,this)}})},"6ca3":function(t,e,i){var s=i("c86c");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-drawer[data-v-540ef5be]{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:999}.uni-drawer__content[data-v-540ef5be]{display:block;position:absolute;top:0;width:220px;bottom:0;background-color:#fff;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.uni-drawer--left[data-v-540ef5be]{left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.uni-drawer--right[data-v-540ef5be]{right:0;-webkit-transform:translateX(100%);transform:translateX(100%)}.uni-drawer__content--visible[data-v-540ef5be]{-webkit-transform:translateX(0);transform:translateX(0)}.uni-drawer__mask[data-v-540ef5be]{display:block;opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(0,0,0,.4);transition:opacity .3s}.uni-drawer__mask--visible[data-v-540ef5be]{display:block;opacity:1}',""]),t.exports=e},"6d4b":function(t,e,i){"use strict";var s=i("cff3"),n=i.n(s);n.a},7207:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-section"},[i("v-uni-view",{staticClass:"uni-section-header",attrs:{nvue:!0}},[t.type?i("v-uni-view",{staticClass:"uni-section__head"},[i("v-uni-view",{staticClass:"uni-section__head-tag",class:t.type})],1):t._e(),i("v-uni-view",{staticClass:"uni-section__content"},[i("v-uni-text",{staticClass:"uni-section__content-title",class:{distraction:!t.subTitle},style:{color:t.color}},[t._v(t._s(t.title))]),t.subTitle?i("v-uni-text",{staticClass:"uni-section__content-sub"},[t._v(t._s(t.subTitle))]):t._e()],1)],1),i("v-uni-view",{style:{padding:t.padding?"10px":""}},[t._t("default")],2)],1)},n=[]},7714:function(t,e,i){var s=i("6ca3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("967d").default;n("69b219d6",s,!0,{sourceMap:!1,shadowMode:!1})},"7d11":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},n=s;e.default=n},"7f69":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("aa77"),i("bf0f"),i("dc8a"),i("4626"),i("5ac7");var s={name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted:function(){var t=this,e={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",(function(i){if(!t.disable){var s=Object.keys(e).find((function(t){var s=i.key,n=e[t];return n===s||Array.isArray(n)&&n.includes(s)}));s&&setTimeout((function(){t.$emit(s,{})}),0)}}))},render:function(){}};e.default=s},8455:function(t,e,i){var s=i("c86c");e=s(!1),e.push([t.i,'.popup-content[data-v-068a5662]{align-items:center;justify-content:center;width:"100%";padding:"15px";height:"100%";background-color:#fff}',""]),t.exports=e},"91b4":function(t,e,i){"use strict";i.r(e);var s=i("bf5a"),n=i.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a},9370:function(t,e,i){"use strict";var s=i("8bdb"),n=i("af9e"),r=i("1099"),a=i("c215"),o=n((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));s({target:"Date",proto:!0,arity:1,forced:o},{toJSON:function(t){var e=r(this),i=a(e,"number");return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},9676:function(t,e,i){var s,n,r=i("bdbb").default;i("4085"),i("5c47"),i("2c10"),i("5ef2"),i("c223"),i("a1c1"),i("fd3c"),i("f7a5"),i("7a76"),i("c9b5"),function(a,o){"object"==r(e)&&"undefined"!=typeof t?t.exports=o():(s=o,n="function"===typeof s?s.call(e,i,e,t):s,void 0===n||(t.exports=n))}(0,(function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,n=/\d*[^-_:/,()\s\d]+/,r={},a=function(t){return(t=+t)+(t>68?1900:2e3)},o=function(t){return function(e){this[t]=+e}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),i=60*e[1]+(+e[2]||0);return 0===i?0:"+"===e[0]?-i:i}(t)}],u=function(t){var e=r[t];return e&&(e.indexOf?e:e.s.concat(e.f))},l=function(t,e){var i,s=r.meridiem;if(s){for(var n=1;n<=24;n+=1)if(t.indexOf(s(n,0,e))>-1){i=n>12;break}}else i=t===(e?"pm":"PM");return i},d={A:[n,function(t){this.afternoon=l(t,!1)}],a:[n,function(t){this.afternoon=l(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[i,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[s,o("seconds")],ss:[s,o("seconds")],m:[s,o("minutes")],mm:[s,o("minutes")],H:[s,o("hours")],h:[s,o("hours")],HH:[s,o("hours")],hh:[s,o("hours")],D:[s,o("day")],DD:[i,o("day")],Do:[n,function(t){var e=r.ordinal,i=t.match(/\d+/);if(this.day=i[0],e)for(var s=1;s<=31;s+=1)e(s).replace(/\[|\]/g,"")===t&&(this.day=s)}],M:[s,o("month")],MM:[i,o("month")],MMM:[n,function(t){var e=u("months"),i=(u("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(i<1)throw new Error;this.month=i%12||i}],MMMM:[n,function(t){var e=u("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,o("year")],YY:[i,function(t){this.year=a(t)}],YYYY:[/\d{4}/,o("year")],Z:c,ZZ:c};function h(i){var s,n;s=i,n=r&&r.formats;for(var a=(i=s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,i,s){var r=s&&s.toUpperCase();return i||n[s]||t[s]||n[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,i){return e||i.slice(1)}))}))).match(e),o=a.length,c=0;c<o;c+=1){var u=a[c],l=d[u],h=l&&l[0],f=l&&l[1];a[c]=f?{regex:h,parser:f}:u.replace(/^\[|\]$/g,"")}return function(t){for(var e={},i=0,s=0;i<o;i+=1){var n=a[i];if("string"==typeof n)s+=n.length;else{var r=n.regex,c=n.parser,u=t.slice(s),l=r.exec(u)[0];c.call(e,l),t=t.replace(l,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var i=t.hours;e?i<12&&(t.hours+=12):12===i&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,i){i.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(a=t.parseTwoDigitYear);var s=e.prototype,n=s.parse;s.parse=function(t){var e=t.date,s=t.utc,a=t.args;this.$u=s;var o=a[1];if("string"==typeof o){var c=!0===a[2],u=!0===a[3],l=c||u,d=a[2];u&&(d=a[2]),r=this.$locale(),!c&&d&&(r=i.Ls[d]),this.$d=function(t,e,i){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var s=h(e)(t),n=s.year,r=s.month,a=s.day,o=s.hours,c=s.minutes,u=s.seconds,l=s.milliseconds,d=s.zone,f=new Date,p=a||(n||r?1:f.getDate()),v=n||f.getFullYear(),m=0;n&&!r||(m=r>0?r-1:f.getMonth());var w=o||0,b=c||0,g=u||0,y=l||0;return d?new Date(Date.UTC(v,m,p,w,b,g,y+60*d.offset*1e3)):i?new Date(Date.UTC(v,m,p,w,b,g,y)):new Date(v,m,p,w,b,g,y)}catch(t){return new Date("")}}(e,o,s),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),l&&e!=this.format(o)&&(this.$d=new Date("")),r={}}else if(o instanceof Array)for(var f=o.length,p=1;p<=f;p+=1){a[1]=o[p-1];var v=i.apply(this,a);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}p===f&&(this.$d=new Date(""))}else n.call(this,t)}}}))},"987e":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,default:""},color:{type:String,default:"#333"},subTitle:{type:String,default:""},padding:{type:Boolean,default:!1}},data:function(){return{}},watch:{title:function(t){uni.report&&""!==t&&uni.report("title",t)}},methods:{onClick:function(){this.$emit("click")}}};e.default=s},a115:function(t,e,i){"use strict";i.r(e);var s=i("7207"),n=i("ccc7");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("2bdf");var a=i("828b"),o=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"7b12ec29",null,!1,s["a"],void 0);e["default"]=o.exports},aa71:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s}));var s={mescrollUni:i("62ac").default,uniSection:i("a115").default,uniDrawer:i("61cd").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:t.NavBarColor,isBack:!0,backRouterName:t.backRouteName}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("工时单")]),i("template",{attrs:{slot:"right"},slot:"right"},["Draft"===this.formatStatusEn(this.model.status)||"Rejected"===this.formatStatusEn(this.model.status)?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSubmit.apply(void 0,arguments)}}},[t._v("保存")]):t._e()],1)],2),i("v-uni-view",[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("工时单号：")])],1),i("v-uni-input",{attrs:{placeholder:"请输入工时单编号",disabled:"true"},model:{value:t.model.timesheetNbr,callback:function(e){t.$set(t.model,"timesheetNbr",e)},expression:"model.timesheetNbr"}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("工时用户：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.userIndex,range:t.userList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.userPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.userList[t.userIndex]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("期间代码：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.periodCodeIndex,range:t.periodCodeList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.periodCodePickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.periodCodeList[t.periodCodeIndex]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("审批状态：")])],1),i("v-uni-input",{attrs:{placeholder:"请输入审批状态",disabled:"true",value:this.formatStatusZh(t.model.status)}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("工时总计：")])],1),i("v-uni-input",{attrs:{placeholder:"请输添加工时单行",disabled:"true"},model:{value:t.model.totalhours,callback:function(e){t.$set(t.model,"totalhours",e)},expression:"model.totalhours"}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-title text-orange"},[t._v("工时单行")])],1),i("v-uni-view",{staticClass:"action"},["Draft"===this.formatStatusEn(this.model.status)||"Rejected"===this.formatStatusEn(this.model.status)?i("v-uni-button",{staticClass:"cu-btn bg-green shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.newRscTimesheetLines.apply(void 0,arguments)}}},[t._v("新增")]):t._e()],1)],1),i("v-uni-view",[i("mescroll-uni",{ref:"mescrollRef",attrs:{top:"700",up:t.upOption,down:t.downOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"al-list cu-list bg-white"},t._l(t.RscTimesheetLines,(function(e,s){return i("v-uni-view",{key:s,staticClass:"cu-item flex justify-around align-center solid-bottom margin-bottom-sm margin-top-sm",class:t.modalName=="move-box-"+s?"move-cur":"",staticStyle:{width:"100vw"},attrs:{"data-target":"move-box-"+s},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchEnd.apply(void 0,arguments)},click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickRscTimesheetLines(e)}}},[i("v-uni-view",{staticClass:"titlePad content",staticStyle:{height:"4em"}},[i("v-uni-view",{staticClass:"flex justify-start text-cut text-lg",staticStyle:{width:"26em",color:"#333","font-family":"'黑体'"}},[i("v-uni-view",{staticClass:"padding-left"},[i("v-uni-text",{staticClass:"text-black"},[t._v(t._s(e.projectId))])],1)],1),i("v-uni-view",{staticClass:"flex justify-between margin-top-xs",staticStyle:{"font-family":"'黑体'",color:"#999"}},[i("v-uni-view",{staticStyle:{"padding-left":".8rem"}},[i("v-uni-view",{staticClass:"text-content text-cut",staticStyle:{"min-width":"5em"}},[t._v(t._s(e.taskId_dictText))])],1),i("v-uni-view",[i("v-uni-view",{staticClass:"text-content text-cut",staticStyle:{"min-width":"5em"}},[t._v(t._s(e.hourpropertyId_dictText))])],1),i("v-uni-view",[i("v-uni-view",{staticClass:"text-content text-cut",staticStyle:{"min-width":"1em"}})],1)],1)],1),i("v-uni-view",{staticClass:"action text-sm",staticStyle:{color:"#aaa","margin-top":"-2em","margin-left":"-13em",width:"10em"}},[i("v-uni-text",[t._v(t._s(e.hourSum)+"小时")])],1),i("v-uni-view",{staticClass:"move"},[i("v-uni-view",{staticClass:"bg-red",staticStyle:{"margin-right":"0","margin-left":"2px"},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.deleteRscTimesheetLine(e)}}},[t._v("删除")])],1)],1)})),1)],1)],1),i("v-uni-view",[i("uni-section",[i("v-uni-view",{staticClass:"example-body"},[i("uni-drawer",{ref:"showRight",attrs:{mode:"right","mask-click":!1,width:t.drawerWidth}},[i("v-uni-view",{staticClass:"scroll-view",staticStyle:{"padding-top":"50px"}},[i("v-uni-scroll-view",{staticClass:"scroll-view-box",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"info-content"},[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("项目：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.projectIndex,range:t.projectList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.projectPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.projectList[t.projectIndex]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("任务：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.taskIndex,range:t.taskList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.taskPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.taskList[t.taskIndex]?t.taskList[t.taskIndex].split("|")[0]:""))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("属性：")])],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.hourpropertyIndex,range:t.hourpropertyList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.hourpropertyPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.hourpropertyList[t.hourpropertyIndex]?t.hourpropertyList[t.hourpropertyIndex].split("|")[0]:""))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v("工时：")])],1),i("a",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickRscTimesheetLineDetail(t.taskList[t.taskIndex].split("|")[1])}}},[t._v("点此处填报详情")])],1)],1),i("v-uni-view",{staticClass:"grid margin-bottom text-center col-5"},t._l(t.rscTimesheetlineDetail,(function(e,s){return i("v-uni-view",{staticClass:"bg-cyan solid-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickRscTimesheetLineDetail(t.taskList[t.taskIndex].split("|")[1])}}},[i("v-uni-view",[t._v(t._s(t.format(e.dayNum)))]),i("v-uni-view",[t._v(t._s(e.hours))])],1)})),1)],1)],1),i("v-uni-view",{staticClass:"close flex solid-bottom padding justify-center"},[i("v-uni-button",{staticClass:"cu-btn shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRscTimesheetLines.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("取消")])],1),"Draft"===this.formatStatusEn(this.model.status)||"Rejected"===this.formatStatusEn(this.model.status)?i("v-uni-button",{staticClass:"cu-btn bg-green shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveRscTimesheetLines.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("保存")])],1):t._e()],1)],1)],1),i("v-uni-view",[i("uni-section",[i("v-uni-view",{staticClass:"example-body"},[i("uni-drawer",{ref:"showRight2",attrs:{mode:"right","mask-click":!1,width:t.drawerWidth}},[i("v-uni-view",{staticClass:"scroll-view",staticStyle:{"padding-top":"50px"}},[i("v-uni-scroll-view",{staticClass:"scroll-view-box",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"info-content"},[i("v-uni-form",t._l(t.rscTimesheetlineDetail,(function(e,s){return i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}},[t._v(t._s(t.format(e.dayNum))+"：")])],1),i("v-uni-input",{attrs:{placeholder:"请输入工时"},model:{value:e.hours,callback:function(i){t.$set(e,"hours",i)},expression:"item.hours"}}),i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{attrs:{space:"ensp"}})],1),i("v-uni-input",{attrs:{placeholder:"请输入备注"},model:{value:e.description,callback:function(i){t.$set(e,"description",i)},expression:"item.description"}})],1)],1)})),1)],1),i("v-uni-view",{staticClass:"close flex solid-bottom padding justify-center"},[i("v-uni-button",{staticClass:"cu-btn shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRscTimesheetLineDetail.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("取消")])],1),"Draft"===this.formatStatusEn(this.model.status)||"Rejected"===this.formatStatusEn(this.model.status)?i("v-uni-button",{staticClass:"cu-btn bg-green shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveRscTimesheetLineDetail.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("保存")])],1):t._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},r=[]},aa8c:function(t,e,i){"use strict";i.r(e);var s=i("aa71"),n=i("91b4");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("6d4b");var a=i("828b"),o=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,"068a5662",null,!1,s["a"],void 0);e["default"]=o.exports},b1e3:function(t,e,i){var s=i("3f55");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("967d").default;n("56b72fb2",s,!0,{sourceMap:!1,shadowMode:!1})},bf5a:function(t,e,i){"use strict";i("6a54");var s=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("aa9c"),i("dd2b"),i("5ef2"),i("64aa"),i("5c47"),i("a1c1");var n=s(i("2634")),r=s(i("2fdc")),a=s(i("6e31")),o=s(i("7d11")),c=s(i("f08c")),u=s(i("2c58")),l=s(i("fcaa")),d=s(i("9676"));i("04e8");var h={name:"RscTimesheettableForm",mixins:[o.default,c.default],components:{myDate:a.default},props:{formData:{type:Object,default:function(){},required:!1}},data:function(){return{id:"",drawerWidth:uni.getSystemInfoSync().screenWidth,CustomBar:this.CustomBar,NavBarColor:this.NavBarColor,loading:!1,modalName:null,listTouchDirection:null,model:{timesheetNbr:"",status:""},RscTimesheetLines:[],backRouteName:"RscTimesheettableList",url:{queryById:"/iresp/rscTimesheettable/queryById",add:"/iresp/rscTimesheettable/add",edit:"/iresp/rscTimesheettable/edit"},currentRscTimesheetLine:{},userList:[],userIndex:0,periodCodeList:[],periodCodeIndex:0,projectList:[],projectIndex:0,taskList:[],taskIndex:0,hourpropertyList:[],hourpropertyIndex:0,rscTimesheetlineDetail:[],userId:this.$store.getters.userid,personalList:{avatar:"",realname:"",username:"",post:""}}},onLoad:function(t){this.id=t.id},created:function(){this.initFormData(),this.initProjectList(),this.initHourpropertyList(),this.getTimesheetNbr(),this.initUserList(),this.initPeriodCodeList()},computed:{},methods:{getTimesheetNbr:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.id){e.next=6;break}return e.next=3,t.$http.put("/sys/fillRule/executeRuleByCode/scg_code_generator");case 3:i=e.sent,t.model.timesheetNbr=i.data.result,t.model.status="草稿";case 6:case"end":return e.stop()}}),e)})))()},initFormData:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==t.id){e.next=5;break}return e.next=3,t.$http.get(t.url.queryById,{params:{id:t.id}});case 3:i=e.sent,i.data.success&&(t.model=i.data.result,t.queryRscTimesheetLines());case 5:case"end":return e.stop()}}),e)})))()},initUserList:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s,r,a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/sys/user/list",{pageNo:1,pageSize:1e4});case 2:if(i=e.sent,i.data.success){for(s=[],r=0;r<i.data.result.records.length;r++)s.push(i.data.result.records[r].username);t.userList=s}if(""==t.id){e.next=13;break}a=0;case 6:if(!(a<i.data.result.records.length)){e.next=13;break}if(i.data.result.records[a].username!=t.model.resource){e.next=10;break}return t.userIndex=a,e.abrupt("break",13);case 10:a++,e.next=6;break;case 13:t.model&&!t.model.resource&&t.$http.get("/sys/user/queryById",{params:{id:t.userId}}).then((function(e){if(e.data.success)for(var i=e.data.result,s=0;s<t.userList.length;s++)if(t.userList[s]==i.username){t.userIndex=s;break}})).catch((function(t){console.log(t)}));case 14:case"end":return e.stop()}}),e)})))()},initPeriodCodeList:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s,r,a,o,c;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/sys/dict/getDictItems/scg_period_detail,period_code,period_code");case 2:if(i=e.sent,i.data.success){for(s=[],r=0;r<i.data.result.length;r++)s.push(i.data.result[r].value);t.periodCodeList=s}if(a=t.buildWeekPeriod(),""!=t.id)for(o=0;o<i.data.result.length;o++)i.data.result[o].value==t.model.periodCode&&(t.periodCodeIndex=o);if(!t.model||t.model.periodCode){e.next=15;break}c=0;case 8:if(!(c<t.periodCodeList.length)){e.next=15;break}if(t.periodCodeList[c]!=a){e.next=12;break}return t.periodCodeIndex=c,e.abrupt("break",15);case 12:c++,e.next=8;break;case 15:case"end":return e.stop()}}),e)})))()},queryRscTimesheetLines:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.model||!t.model.timesheetNbr){e.next=5;break}return e.next=3,t.$http.get("/iresp/rscTimesheettable/queryRscTimesheetlineByMainId?id="+t.model.timesheetNbr);case 3:i=e.sent,t.RscTimesheetLines=i.data.result.records;case 5:case"end":return e.stop()}}),e)})))()},initProjectList:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/sys/dict/getDictItems/prj_project_table,project_code,project_code");case 2:if(i=e.sent,i.data.success){for(s=[],r=0;r<i.data.result.length;r++)s.push(i.data.result[r].value);t.projectList=s,t.queryTaskList(t.projectList[0],null)}case 4:case"end":return e.stop()}}),e)})))()},queryTaskList:function(t,e){var i=this;return(0,r.default)((0,n.default)().mark((function s(){var r,a,o;return(0,n.default)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,i.$http.get("/sys/dict/getDictItems/prj_wbs where level = 'task' and project_code = '"+t+"',node_name,node_code");case 2:if(r=s.sent,r.data.success){for(a=[],o=0;o<r.data.result.length;o++)a.push(r.data.result[o].text+"|"+r.data.result[o].value),e&&e==r.data.result[o].value&&(i.taskIndex=o);i.taskList=a}case 4:case"end":return s.stop()}}),s)})))()},initHourpropertyList:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,s,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/sys/dict/getDictItems/rsc_hourproperty,description,hourproperty_id");case 2:if(i=e.sent,i.data.success){for(s=[],r=0;r<i.data.result.length;r++)s.push(i.data.result[r].text+"|"+i.data.result[r].value);t.hourpropertyList=s}case 4:case"end":return e.stop()}}),e)})))()},clickRscTimesheetLines:function(t){var e=this;return(0,r.default)((0,n.default)().mark((function i(){var s,r,a;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:console.log("clickRscTimesheetLines",t),e.currentRscTimesheetLine=t,s=0;case 3:if(!(s<e.projectList.length)){i.next=10;break}if(e.projectList[s]!=t.projectId){i.next=7;break}return e.projectIndex=s,i.abrupt("break",10);case 7:s++,i.next=3;break;case 10:r=0;case 11:if(!(r<e.hourpropertyList.length)){i.next=18;break}if(e.hourpropertyList[r].split("|")[1]!=t.hourpropertyId){i.next=15;break}return e.hourpropertyIndex=r,i.abrupt("break",18);case 15:r++,i.next=11;break;case 18:return e.queryTaskList(t.projectId,t.taskId),e.currentRscTimesheetLine.day1Ext||(e.currentRscTimesheetLine.day1Ext=e.buildUUID()),i.next=22,e.$http.get("/iresp/rscTimesheetlineDetail/list",{params:{pageNo:1,pageSize:30,timesheetlineId:e.currentRscTimesheetLine.day1Ext}});case 22:a=i.sent,a.data.success&&(e.rscTimesheetlineDetail=a.data.result.records),e.$refs["showRight"].open();case 25:case"end":return i.stop()}}),i)})))()},newRscTimesheetLines:function(){this.currentRscTimesheetLine={id:(new Date).getTime(),projectId:this.projectList[this.projectIndex],taskId:this.taskList[this.taskIndex].split("|")[1],taskId_dictText:this.taskList[this.taskIndex].split("|")[0],hourpropertyId:this.hourpropertyList[this.hourpropertyIndex].split("|")[1],hourpropertyId_dictText:this.hourpropertyList[this.hourpropertyIndex].split("|")[0],timesheetNbr:this.model.timesheetNbr,day1:0,day2:0,day3:0,day4:0,day5:0,day6:0,day7:0,description:"",costcenter:"",hourSum:0,day1Ext:""},this.$refs["showRight"].open()},saveRscTimesheetLines:function(){this.currentRscTimesheetLine.projectId=this.projectList[this.projectIndex],this.currentRscTimesheetLine.taskId=this.taskList[this.taskIndex].split("|")[1],this.currentRscTimesheetLine.taskId_dictText=this.taskList[this.taskIndex].split("|")[0],this.currentRscTimesheetLine.hourpropertyId=this.hourpropertyList[this.hourpropertyIndex].split("|")[1],this.currentRscTimesheetLine.hourpropertyId_dictText=this.hourpropertyList[this.hourpropertyIndex].split("|")[0],this.currentRscTimesheetLine.timesheetNbr=this.model.timesheetNbr;for(var t=!1,e=0,i=0;i<this.RscTimesheetLines.length;i++)this.RscTimesheetLines[i].id==this.currentRscTimesheetLine.id&&(this.RscTimesheetLines[i]=this.currentRscTimesheetLine,t=!0);t||this.RscTimesheetLines.push(this.currentRscTimesheetLine);for(var s=0;s<this.RscTimesheetLines.length;s++)e+=this.RscTimesheetLines[s].hourSum;this.model.totalhours=e,this.$refs["showRight"].close()},closeRscTimesheetLines:function(){this.$refs["showRight"].close()},deleteRscTimesheetLine:function(t){this.RscTimesheetLines.splice(this.RscTimesheetLines.indexOf(t),1);for(var e=0,i=0;i<this.RscTimesheetLines.length;i++)e+=Number(this.RscTimesheetLines[i].hourSum);this.model.totalhours=e},clickRscTimesheetLineDetail:function(t){var e=this;return(0,r.default)((0,n.default)().mark((function t(){var i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.currentRscTimesheetLine.day1Ext||(e.currentRscTimesheetLine.day1Ext=e.buildUUID()),t.next=3,e.$http.get("/iresp/rscTimesheetlineDetail/list",{params:{pageNo:1,pageSize:30,timesheetlineId:e.currentRscTimesheetLine.day1Ext}});case 3:i=t.sent,i.data.success&&(e.rscTimesheetlineDetail=i.data.result.records,e.$refs["showRight2"].open());case 5:case"end":return t.stop()}}),t)})))()},saveRscTimesheetLineDetail:function(){var t=this;this.$http.post("/iresp/rscTimesheetlineDetail/edit",this.rscTimesheetlineDetail).then((function(e){for(var i=0,s=0;s<t.rscTimesheetlineDetail.length;s++)switch(i+=Number(t.rscTimesheetlineDetail[s].hours),t.currentRscTimesheetLine.day1Ext=t.rscTimesheetlineDetail[s].timesheetlineId,t.rscTimesheetlineDetail[s].dayNum){case"1":t.currentRscTimesheetLine.day1=t.rscTimesheetlineDetail[s].hours;break;case"2":t.currentRscTimesheetLine.day2=t.rscTimesheetlineDetail[s].hours;break;case"3":t.currentRscTimesheetLine.day3=t.rscTimesheetlineDetail[s].hours;break;case"4":t.currentRscTimesheetLine.day4=t.rscTimesheetlineDetail[s].hours;break;case"5":t.currentRscTimesheetLine.day5=t.rscTimesheetlineDetail[s].hours;break;case"6":t.currentRscTimesheetLine.day6=t.rscTimesheetlineDetail[s].hours;break;case"7":t.currentRscTimesheetLine.day7=t.rscTimesheetlineDetail[s].hours;break}t.currentRscTimesheetLine.hourSum=i,t.$refs["showRight2"].close()}))},closeRscTimesheetLineDetail:function(){this.$refs["showRight2"].close()},ListTouchStart:function(t){this.listTouchStart=t.touches[0].pageX},ListTouchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>0?"right":"left"},ListTouchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null},onSubmit:function(){var t=this;if(this.RscTimesheetLines&&0!=this.RscTimesheetLines.length){this.loading=!0;var e=this.model.id?"/iresp/rscTimesheettable/edit":"/iresp/rscTimesheettable/add";this.model={id:this.model.id,periodCode:this.periodCodeList[this.periodCodeIndex],resource:this.userList[this.userIndex],status:this.formatStatusEn(this.model.status),timesheetNbr:this.model.timesheetNbr,totalhours:this.model.totalhours,rscTimesheetlineList:this.RscTimesheetLines},this.$http.post(e,this.model).then((function(e){t.loading=!1,t.$Router.push({name:t.backRouteName})})).catch((function(){t.loading=!1}))}else alert("请添加工时单行")},userPickerChange:function(t){this.userIndex=t.detail.value},periodCodePickerChange:function(t){this.periodCodeIndex=t.detail.value},projectPickerChange:function(t){this.projectIndex=t.detail.value,this.queryTaskList(this.projectList[this.projectIndex],null)},taskPickerChange:function(t){this.taskIndex=t.detail.value},hourpropertyPickerChange:function(t){this.hourpropertyIndex=t.detail.value},format:function(t){switch(t){case"1":return"周一";case"2":return"周二";case"3":return"周三";case"4":return"周四";case"5":return"周五";case"6":return"周六";case"7":return"周日";default:return t}},formatStatusZh:function(t){switch(t){case"Draft":return"草稿";case"Rejected":return"已驳回";case"In Review":return"审批中";case"Approved":return"已批准";default:return t}},formatStatusEn:function(t){switch(t){case"草稿":return"Draft";case"已驳回":return"Rejected";case"审批中":return"In Review";case"已批准":return"Approved";default:return t}},buildUUID:function(){for(var t=[],e=0;e<32;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23];var i=t.join("");return i.replace(/-/g,"")},buildWeekPeriod:function(){u.default.locale("zh-cn"),u.default.extend(l.default),u.default.extend(d.default);var t=(0,u.default)().startOf("week").format("YYYY-MM-DD")+"~"+(0,u.default)().endOf("week").format("YYYY-MM-DD");return t}}};e.default=h},ccc7:function(t,e,i){"use strict";i.r(e);var s=i("987e"),n=i.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a},cff3:function(t,e,i){var s=i("8455");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=i("967d").default;n("376e7ed3",s,!0,{sourceMap:!1,shadowMode:!1})},daa0:function(t,e,i){"use strict";i("6a54");var s=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa");var n=s(i("7f69")),r={name:"UniDrawer",components:{keypress:n.default},emits:["change"],props:{mode:{type:String,default:""},mask:{type:Boolean,default:!0},maskClick:{type:Boolean,default:!0},width:{type:Number,default:220}},data:function(){return{visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null,drawerWidth:220}},created:function(){this.drawerWidth=this.width,this.rightMode="right"===this.mode},methods:{clear:function(){},close:function(t){("mask"!==t||this.maskClick)&&this.visibleSync&&this._change("showDrawer","visibleSync",!1)},open:function(){this.visibleSync||this._change("visibleSync","showDrawer",!0)},_change:function(t,e,i){var s=this;this[t]=i,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((function(){s[e]=i,s.$emit("change",i)}),i?50:300)}}};e.default=r},f08c:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c223");var s={data:function(){return{downOption:{auto:!1},upOption:{page:{num:0,size:8,time:null}},queryParam:{pageNo:1,pageSize:8},list:[],pageNo:1,pageSize:8}},methods:{downCallback:function(){this.loadList("down")},upCallback:function(t){var e=this,i=this.queryParam;i.pageNo=t.num,i.pageSize=t.size,1==t.num&&(this.list=[]),console.log("upCallback==param::",i),this.$http.get(this.url,{params:i}).then((function(t){if(console.log("upCallback请求返回res",t),t.data.success){var i=t.data.result.records,s=!0;(!i||i.length<e.pageSize)&&(console.log("加载完成!没有更多了"),s=!1),console.log("hasNext",s),e.mescroll.endSuccess(i.length),e.list=e.list.concat(i),e.$forceUpdate()}else e.mescroll.endErr()})).catch((function(){e.mescroll.endErr()}))},loadList:function(t){var e=this,i=this.queryParam;i.pageNo=this.pageNo,i.pageSize=this.pageSize,console.log("请求参数",i),this.$http.get(this.url,{params:i}).then((function(i){if(i.data.success){console.log("请求返回res.data",i.data);var s=i.data.result.records;"down"==t&&e.mescroll.endSuccess(),e.list=s}else console.log("请求返回else",i),e.mescroll.endErr()})).catch((function(t){console.log("请求返回err",t),e.mescroll.endErr()}))}}},n=s;e.default=n},fcaa:function(t,e,i){var s,n,r=i("bdbb").default;i("4085"),i("5c47"),i("a1c1"),function(a,o){"object"==r(e)&&"undefined"!=typeof t?t.exports=o():(s=o,n="function"===typeof s?s.call(e,i,e,t):s,void 0===n||(t.exports=n))}(0,(function(){"use strict";return function(t,e,i){t=t||{};var s=e.prototype,n={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(t,e,i,n){return s.fromToBase(t,e,i,n)}i.en.relativeTime=n,s.fromToBase=function(e,s,r,a,o){for(var c,u,l,d=r.$locale().relativeTime||n,h=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=h.length,p=0;p<f;p+=1){var v=h[p];v.d&&(c=a?i(e).diff(r,v.d,!0):r.diff(e,v.d,!0));var m=(t.rounding||Math.round)(Math.abs(c));if(l=c>0,m<=v.r||!v.r){m<=1&&p>0&&(v=h[p-1]);var w=d[v.l];o&&(m=o(""+m)),u="string"==typeof w?w.replace("%d",m):w(m,s,v.l,l);break}}if(s)return u;var b=l?d.future:d.past;return"function"==typeof b?b(u):b.replace("%s",u)},s.to=function(t,e){return r(t,e,this,!0)},s.from=function(t,e){return r(t,e,this)};var a=function(t){return t.$u?i.utc():i()};s.toNow=function(t){return this.to(a(this),t)},s.fromNow=function(t){return this.from(a(this),t)}}}))},ffe6:function(t,e,i){"use strict";i.r(e);var s=i("daa0"),n=i.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a}}]);